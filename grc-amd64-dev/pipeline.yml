---
resources:
  - name: gridcoin-docker
    type: git
    source:
      uri: https://github.com/gridcoin-community/gridcoin-docker
      branch: master

  - name: grc-amd64-bionic
    type: docker-image
    source:
      email: ((docker-hub-email))
      username: ((docker-hub-username))
      password: ((docker-hub-password))
      repository: gridcoincommunity/grc-amd64-dev
      tag: bionic

  - name: grc-amd64-buster
    type: docker-image
    source:
      email: ((docker-hub-email))
      username: ((docker-hub-username))
      password: ((docker-hub-password))
      repository: gridcoincommunity/grc-amd64-dev
      tag: buster

  - name: grc-amd64-focal
    type: docker-image
    source:
      email: ((docker-hub-email))
      username: ((docker-hub-username))
      password: ((docker-hub-password))
      repository: gridcoincommunity/grc-amd64-dev
      tag: focal

  - name: grc-amd64-bullseye
    type: docker-image
    source:
      email: ((docker-hub-email))
      username: ((docker-hub-username))
      password: ((docker-hub-password))
      repository: gridcoincommunity/grc-amd64-dev
      tag: bullseye

jobs:
  - name: build-grc-amd64-bionic
    public: true
    plan:
      - get: gridcoin-docker
      - put: grc-amd64-bionic
        params:
          build: gridcoin-docker/grc-amd64-dev/grc-bionic-dev
  - name: build-grc-amd64-buster
    public: true
    plan:
      - get: gridcoin-docker
      - put: grc-amd64-buster
        params:
          build: gridcoin-docker/grc-amd64-dev/grc-buster-dev
  - name: build-grc-amd64-focal
    public: true
    plan:
      - get: gridcoin-docker
      - put: grc-amd64-focal
        params:
          build: gridcoin-docker/grc-amd64-dev/grc-focal-dev
  - name: build-grc-amd64-bullseye
    public: true
    plan:
      - get: gridcoin-docker
      - put: grc-amd64-bullseye
        params:
          build: gridcoin-docker/grc-amd64-dev/grc-bullseye-dev
